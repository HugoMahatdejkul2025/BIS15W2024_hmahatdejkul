library(here)
library(naniar)
options(scipen = 999)
install.packages("gapminder")
library("gapminder")
install.packages("gapminder")
knitr::opts_chunk$set(echo = TRUE)
gapminder <- data.frame(gapminder)
gapminder %>%
filter(year<=2007 & year>=1952) %>%
ggplot(aes(x=year,y=lifeExp/100,fill=year))+geom_col()+labs(title="life exp over the years",y="life expectancy")
gapminder %>%
filter(year<=2007 & year>=1952) %>%
ggplot(aes(x=year,y=lifeExp/100,fill=year))+geom_col()+labs(title="life exp over the years",y="life expectancy")
library(tidyverse)
library(janitor)
library(here)
library(naniar)
#install.packages("gapminder")
library("gapminder")
gapminder <- data.frame(gapminder)
glimpse(gapminder)
structure(gapminder)
any_na(gapminder)
names(gapminder)
gapminder %>%
filter(year<=2007 & year>=1952) %>%
ggplot(aes(x=year,y=lifeExp/100,fill=year))+geom_col()+labs(title="life exp over the years",y="life expectancy")
install.packages("ggthemes")
deserts <- read_csv("data/surveys_complete.csv")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
install.packages("RColorBrewer")
install.packages("paletteer")
install.packages("ggthemes")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
deserts <- read_csv("data/surveys_complete.csv")
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
View(homerange)
View(homerange)
homerange %>%
ggplot(aes(x=))+geom_box()
install.packages("ggthemes")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
homerange %>%
ggplot(aes(x=log10.mass))+geom_box()
homerange %>%
ggplot(aes(x=log10.mass))+geom_bar()
homerange %>%
ggplot(aes(x=log10.mass))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,fill=class))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,group=class))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,color=class))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,fill=class))+geom_boxplot()
3. Use `group` to show the range of `log10.mass` by taxonomic class.
3. Use `group` to show the range of `log10.mass` by taxonomic class.
3. Use `group` to show the range of `log10.mass` by taxonomic class.
homerange %>%
ggplot(aes(x=class,y=log10.mass,fill=class))+geom_boxplot()
3. Use `group` to show the range of `log10.mass` by taxonomic class.
3. Use `group` to show the range of `log10.mass` by taxonomic class.
homerange %>%
ggplot(aes(x=class,y=log10.mass))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,fill=class))+geom_boxplot()
3. Use `group` to show the range of `log10.mass` by taxonomic class.
2. Now, add a layer to this plot that fills color for each box by taxonomic class
homerange %>%
ggplot(aes(x=class,y=log10.mass,group=class))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,group=taxon))+geom_boxplot()
homerange %>%
ggplot(aes(x=class,y=log10.mass,group=taxon,fill=class))+geom_boxplot()
deserts %>%
filter(species_id=="DM" |species_id=="DS")
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year))
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep')
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
pivot_wider(names_from = species_id,values_from = n)
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line()
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line()+geom_point(shape=2)
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line()+geom_point(shape=1)
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line()+geom_point(shape=1)+theme(axis.text.x=element_text(angle=60,hjust=1))+labs(title="number of samples for species DM and DS",x="year",y="n'")
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line(shape=3)+geom_point(shape=1)+theme(axis.text.x=element_text(angle=60,hjust=1))+labs(title="number of samples for species DM and DS",x="year",y="n'")
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line(shape=3)+theme(axis.text.x=element_text(angle=60,hjust=1))+labs(title="number of samples for species DM and DS",x="year",y="n'")
deserts %>%
filter(species_id=="DM" |species_id=="DS") %>%
mutate(year=as.factor(year)) %>%
group_by(year,species_id) %>%
summarize(n=n(),.groups='keep') %>%
ggplot(aes(x=year,y=n,group=species_id,color=species_id))+geom_line()+geom_point(shape=1)+theme(axis.text.x=element_text(angle=60,hjust=1))+labs(title="number of samples for species DM and DS",x="year",y="n'")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram()+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram()+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
grDevices::colors()
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(bins=1)+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(bins=100)+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "turquoise4", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "yellow", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density(fill="deepskyblue4", alpha  =0.4, color = "black")+ #alpha is the transparency
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.mass)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.4, color = "black")+
geom_density(color = "red")+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.mass)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.4, color = "black")+
geom_density(color = "red")+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram()
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=1100)
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=110)
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=50)
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=52)
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20)
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+
labs(title="histogram of hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra,group=hra.reference))+geom_histogram(bins=20,color="yellow",fill="pink")+
labs(title="histogram of hra",x="hra")
ggplot(aes(x=log10.hra,fill=class)+geom_histogram(bins=20,color="yellow",fill="pink")+
homerange %>%
ggplot(aes(x=log10.hra,fill=class)+geom_histogram(bins=20,color="yellow",fill="pink")+
labs(title="histogram of hra",x="hra")
ggplot(aes(x=log10.hra)+geom_histogram(bins=20,color="yellow",fill="pink")+
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_density(bins=20,color="yellow",fill="pink")+
labs(title="histogram of hra",x="hra")
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+geom_density()
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+geom_density()+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+geom_density()+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+geom_density(color="blue")+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(bins=20,color="yellow",fill="pink")+geom_density(color="blue",fill="green")+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(aes(y=after_stat(density)),bins=20,color="yellow",fill="pink")+geom_density(color="blue",fill="green")+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(aes(y=after_stat(density)),bins=20,color="yellow",fill="pink")+geom_density(color="blue")+
labs(title="histogram of hra",x="hra")
homerange %>%
ggplot(aes(x=log10.hra))+geom_histogram(aes(y=after_stat(density)),bins=20,color="yellow",fill="pink")+geom_density(color="blue")+
labs(title="histogram of hra",x="hra")
homerange %>%
select(log10.mass) %>%
summarise(min=min(log10.mass),
max=max(log10.mass))
summary(homerange$log10.mass)
homerange <- homerange %>%
mutate(mass_category = case_when(log10.mass <= 1.75 ~ "small",
log10.mass > 1.75 & log10.mass <= 2.75 ~ "medium",
log10.mass > 2.75 ~ "large"))
homerange
summary(log10.hra)
summary(homerange$log10.hra)
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~small))
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small"))
summary(homerange$log10.hra)
library(gtools)
install.packages(gtools)
install.packages("gtools")
library(gtools)
quartiles<-quartcut(homerange%log10.hra)
quartiles<-quantcut(homerange%log10.hra)
library(gtools)
quartiles<-quantcut(homerange%log10.hra)
table(quartiles)
summary(homerange$log10.hra)
#library(gtools)
#quartiles<-quantcut(homerange%log10.hra)
#table(quartiles)
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595="medium",
#library(gtools)
#quartiles<-quantcut(homerange%log10.hra)
#table(quartiles)
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category))+geom_histogram()
View(homerange)
summary(homerange$log10.hra)
#library(gtools)
#quartiles<-quantcut(homerange%log10.hra)
#table(quartiles)
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category))+geom_histogram()
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category,fill_class))+geom_histogram()
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category,fill_class))+geom_bar()
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category,fill_class))+geom_bar(position="dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
homerange %>%
ggplot(aes(x=range_category,fill_class))+geom_bar(position="dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
homerange %>%
ggplot(aes(x=range_category,fill_class))+geom_bar(position="dodge")
#library(gtools)
#quartiles<-quantcut(homerange%log10.hra)
#table(quartiles)
homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
#library(gtools)
#quartiles<-quantcut(homerange%log10.hra)
#table(quartiles)
homerang<-
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
#library(gtools)
#quartiles<-quantcut(homerange%log10.hra)
#table(quartiles)
homerang<-homerange%>%
mutate(range_category=case_when(log10.hra<=3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
homerange%>%
mutate(range_category=case_when(log10.hra<3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large"))
homerange %>%
ggplot(aes(x=range_category,fill_class))+geom_bar(position="dodge")
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class,y=lo10.mass,fill=class))+geom_boxplot()
homerange%>%
mutate(range_category=case_when(log10.hra<3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category,fill_class))+geom_bar(position="dodge")
homerange%>%
mutate(range_category=case_when(log10.hra<3.653~"small",
log10.hra>=3.653 & log10.hra<=4.595~"medium",
log10.hra>4.595~"large")) %>%
ggplot(aes(x=range_category,fill=class))+geom_bar(position="dodge")
homerange %>%
filter(range_category=="small") %>%
ggplot(aes(x=class,y=lo10.mass,fill=class))+geom_boxplot()
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
options(scipen=999) #cancels the use of scientific notation for the session
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q<-
homerange %>%
ggplot(aes(log10.mass,log10.preymass,color=taxon))+geom_point()
q
q<-
homerange %>%
ggplot(aes(log10.mass,log10.preymass,color=taxon))+geom_point()++geom_smooth(method=lm,se=T)
q<-
homerange %>%
ggplot(aes(log10.mass,log10.preymass,color=taxon))+geom_point()+geom_smooth(method=lm,se=T)
q
q
q<-
homerange %>%
ggplot(aes(log10.mass,log10.preymass,color=taxon))+geom_point()+geom_smooth(method=lm,se=F)
q
q<-
homerange %>%
ggplot(aes(log10.mass,log10.preymass,color=taxon))+geom_point()
q
q+theme_classic()
q
q+theme_minimal()
q+theme_linedraw()
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=.5))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
install.packages("ggthemes")
install.packages("ggthemes")
library(ggthemes)
q+theme_economist()
?RColorBrewer
display.brewer.pal(3,"Blues") #sequential palette
p+scale_fill_brewer(palette = "Paired")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q+scale_fill_brewer(palette = "Paired")
q+scale_fill_brewer(palette = "PuBuGn")
q+scale_color_brewer(palette = "PuBuGn")
my_palette <- paletteer_d("ggsci::nrc_npg") #store your pallete
barplot(rep(1,6), axes=FALSE, col=my_palette)
barplot(rep(1,6), axes=FALSE, color=my_palette)
barplot(rep(1,6), axes=FALSE, col=my_palette)
q+scale_fill_manual(values=my_palette)
q+scale_view_manual(values=my_palette)
q+scale_color_manual(values=my_palette)
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild, ncol=2)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_grid(trophic.guild~.)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild, ncol=3)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_grid(trophic.guild~thermoregulation)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
